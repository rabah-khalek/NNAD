#! /usr/bin/env bash

# These variables need to exist
prefix=@prefix@
exec_prefix=@exec_prefix@

if [[ $# -eq 0 || -n $( echo $* | egrep -- "--help|-h" ) ]]; then
    echo
    echo "Configuration tool for NNAD: Neural Network library for Analytical Gradient Descent"
    echo "Webpage: https://github.com/rabah-khalek/NNAD"
    echo "Contacts: Rabah Abdul Khalek <rabah.khalek@gmail.com>"
    echo "          Valerio Bertone <valerio.bertone@cern.ch>"
    echo
    echo "Usage: nnad-config [Options]"
    echo "Options:"
    echo "  --help | -h : show this help message"
    echo "  --version   : code version"
    echo "  --prefix    : installation prefix"
    echo "  --incdir    : path to the NNAD header directory"
    echo "  --cflags    : compiler flags for use with C++ compilation"
fi

OUT=""

tmp=$( echo "$*" | egrep -- '--\<version\>')
test -n "$tmp" && OUT="$OUT @NNAD_VERSION@"

tmp=$( echo "$*" | egrep -- '--\<prefix\>')
test -n "$tmp" && OUT="$OUT @prefix@"

tmp=$( echo "$*" | egrep -- '--\<incdir\>')
test -n "$tmp" && OUT="$OUT @includedir@"

tmp=$( echo "$*" | egrep -- '--\<cflags\>')
test -n "$tmp" && OUT="$OUT -I@includedir@"

## Version
tmp=$( echo "$*" | egrep -- '--\<version\>')
test -n "$tmp" && OUT="$OUT @apfel_VERSION@"

echo $OUT
